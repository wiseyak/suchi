<% layout('../bases/boilerplate') -%>
<% stylesheet('stylesheets/notebook.css') -%>
<% script('javascripts/moment.min.js') -%>
<% script('javascripts/notebook.js') -%>

<script id="notepad-new" type="text/x-handlebars-template">
  <div class="notepad col-md-4 {{ padType }}" id = 'note-{{ padId }}' data-noteid='{{ padId }}'>
    <div class="well yellow">
        <header class="header">
            <div class="view">
                <input autofocus="" placeholder="Enter A title for the Notepad." type='text' id = 'new-todo' class="new-todo">
                
            </div>
            
        </header>
        <section class="notepad-body">
            <header class="header">
                <input autofocus="" placeholder="Please enter a new Note." class="new-note {{ padType }}">
               <a href="#" id="add_item" class="btn btn-mini" role="button"><span class="glyphicon glyphicon-plus"></span></a>


            </header>
            <section class="notes">
            </section>
        </section>
        <footer class="footer">
        <div class="row">
            <p class='note-date col-md-6'>Created {{ dateFormat noteDate }}</p>
            <p class='note-date col-md-6'>Updated {{ fromNow noteDate }}</p>
        </div>
        </footer>
    </div>
  </div>
</script>



<style></style>

<div class="page-header text-center container-fluid">
    <div class="row">
        <h1><span class="fa fa-anchor"></span>Notebook</h1>
        <p>The list of all my notepads.</p>
    </div>
    <div class="row">
        <a href="#" id="add_notebook" class="btn btn-primary" role="button">Add New Notepad</a>
    </div>
    <div id="notebook" class="row">
        <% notepads.forEach( function( notepad ){ %>
            <div class="notepad col-md-4" id = 'note-<%= notepad._id %>' data-noteid='<%= notepad._id %>'>
                <div class="well yellow">
                    <header class="header">
                        <div class="view">
                            <a href="#" id="remove_notepad" class="btn btn-mini" role="button" style="float:right">
                                                <span class="glyphicon glyphicon-remove"></span>
                                             </a>
                            <label><%= notepad.name %></label>
                            <input type='text' value = '<%= notepad.name %>' />
                            
                            <!-- <button class="destroy"></button> -->
                        </div>
                        <input autofocus="" placeholder="<%= notepad.name %>" class="edit">
                    </header>
                    <section class="notepad-body">
                      
                        <section class="notes">
                            
                            <label for="toggle-all">Mark all as complete</label>
                            <ul class="todo-list">
                              
                                <li data-id="5443b4dc-0455-42d0-abb7-6db7873f644f">
                                    <div class="view">
                                        <a href="#" id="add_item" class="btn btn-mini" role="button" style="float:right">
                                                <span class="glyphicon glyphicon-plus"></span>
                                             </a>
                                        <% notepad.note.forEach(function(noteitem){ %>
                                        <div id = 'noteitem-<%= noteitem._id %>' class='noteitem' data-noteid='<%= noteitem._id %>'>
                                            <label ><%= noteitem.content %><a href="#" id="remove_item" class="btn btn-mini" role="button" style="float:right"><span class="glyphicon glyphicon-minus"></span></a>
                                            </label>
                                            <input type='text' value = '<%= noteitem.content %>' />
                                        </div>

                                            <% }); %>
                                        <!-- <button class="destroy"></button> -->
                                   
                                    </div>
                                    <input value="nothing" class="edit">
                                </li>
                            </ul>
                        </section>
                    </section>
                    <footer class="footer">
                    <div class="row">
                        <p class='note-date col-md-6'>Created <%=:notepad.date_created | dateFormat %></p>
                        <p class='note-date col-md-6'>Updated <%=:notepad.date_created | fromNow %></p>
                    </div>
                    </footer>
                </div>
              </div>
        <% }); %>
    </div>
</div>
